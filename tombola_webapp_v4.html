
<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Replokalsbingo</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background: url('tomboladesign.png') no-repeat center center fixed;
      background-size: cover;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: white;
      text-align: center;
    }

    .container {
      background-color: rgba(0, 0, 0, 0.6);
      padding: 2em;
      border-radius: 1em;
      max-width: 90%;
      width: 400px;
    }

    h1 {
      font-size: 1.8em;
      margin-bottom: 1em;
    }

    select, button {
      width: 100%;
      padding: 0.8em;
      font-size: 1em;
      margin-bottom: 1em;
      border: none;
      border-radius: 0.5em;
    }

    button {
      background-color: #fff;
      color: #000;
      font-weight: bold;
      font-size: 1.2em;
      cursor: pointer;
      border: 2px solid #000;
    }

    .result {
      margin-top: 2em;
      background: rgba(255, 255, 255, 0.1);
      padding: 1em;
      border-radius: 0.5em;
    }

    .label {
      font-size: 0.9em;
      font-weight: bold;
      margin-top: 1em;
      color: #ccc;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸŽ¸ Replokalsbingo</h1>

    <label for="repadFilter" class="label">Repad</label>
    <select id="repadFilter">
      <option value="">(alla)</option>
      <option value="NEJ">NEJ</option>
      <option value="HALVREPAD">HALVREPAD</option>
      <option value="JA">JA</option>
    </select>

    <button onclick="slumpaLÃ¥t()">VÃ„LJ LÃ…T DÃ…!</button>

    <div class="result" id="result"></div>
  </div>

<script>
let lÃ¥tdata = [];

const bonusTexter = [
  "Aj dÃ¥, lycka till!",
  "Oj, den hÃ¤r var inte igÃ¥r. Kommer ni spela rÃ¤tt?",
  "Gammal goding, eller mardrÃ¶m?",
  "KÃ¶r ni den hÃ¤r verkligen? ðŸ«£",
  "Fett modigt val, sÃ¤ger jag bara.",
  "Lycka till â€“ ni lÃ¤r behÃ¶va det!",
  "Den hÃ¤r kan gÃ¥ hur som helst...",
  "Ã–nska att man visste hur den gick.",
  "Ingen minns den hÃ¤r, men kÃ¶r pÃ¥!",
  "Modig slump, my friend."
];

fetch('tombola_data.json')
  .then(res => res.json())
  .then(data => {
    lÃ¥tdata = data.map(lÃ¥t => ({
      ...lÃ¥t,
      repad: lÃ¥t.repad?.trim(),
      tempo: lÃ¥t.tempo?.trim(),
      album: lÃ¥t.album?.trim()
    }));
  });

function slumpaLÃ¥t() {
  const repad = document.getElementById('repadFilter').value;

  let filtrerat = lÃ¥tdata.filter(lÃ¥t => {
    return (!repad || lÃ¥t.repad === repad);
  });

  if (filtrerat.length === 0) {
    document.getElementById('result').innerHTML = "ðŸš« Inga lÃ¥tar matchar dina filter.";
    return;
  }

  const slumpad = filtrerat[Math.floor(Math.random() * filtrerat.length)];

  // Kolla om vi ska lÃ¤gga till bonuskommentar
  let kommentar = "";
  if (slumpad.repad === "NEJ" || parseInt(slumpad.prio) >= 4) {
    kommentar = `<p><em>${bonusTexter[Math.floor(Math.random() * bonusTexter.length)]}</em></p>`;
  }

  document.getElementById('result').innerHTML = `
    <h2>${slumpad.titel}</h2>
    <p><strong>Album:</strong> ${slumpad.album}</p>
    ${kommentar}
  `;
}
</script>

</body>
</html>
